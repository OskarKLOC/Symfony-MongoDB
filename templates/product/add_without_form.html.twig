{% extends 'base.html.twig' %}

{% block title %}Hello ProductController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">
    <h1>{{ step_title }}</h1>
    <p>{{ step_description }}</p>
</div>

<div>
    {% for product in products %}
        <div>
            <h2>Nom : {{ product.name ? product.name : 'Produit inconnu' }}</h2>
            <ul>
                <li>Prix : {{ product.price ? product.price : 'Prix à définir' }}</li>
                <li>Actif : {{ product.active ? 'Oui' : 'Non' }}</li>
                <li>Date : {{ product.createdAt ? product.createdAt|date('Y-m-d H:i:s') : 'Date de création inconnue' }}</li>
                {% if product.options %}
                    <li>
                        Options :
                        <ul>
                            <li>Couleur : {{ product.options.color ? product.options.color : 'Couleur à définir' }}</li>
                            <li>Taille : {{ product.options.size ? product.options.size : 'Taille à définir' }}</li>
                        </ul>
                    </li>
                {% endif %}
                {% if product.reviews %}
                    <li>
                        Commentaires :
                        <ul>
                            {% for review in product.reviews %}
                                <li>{{ review.author }} - {{ review.content }}</li>
                            {% endfor %}
                        </ul>
                    </li>
                {% endif %}     
            </ul>
        </div>
    {% endfor %}
</div>


{% endblock %}
